
# 线性代数复习

在程序中, 我们都默认 ![1](02_08/1.png) 是 列向量 ![2](02_08/2.png)

矩阵和点的乘法, 需要先在齐次坐标系中进行计算, 再转换成非齐次坐标

![3](02_08/3.png)

矩阵和向量的乘法, 因为向量的 w 本身就是 0， 所以是

![4](02_08/4.png)

法线的变换和向量有所不同

![5](02_08/5.png)

a 是原来的法线，b 是坐标系中的y轴全部除以2, 则法线不再垂直, 而c 是矫正后的法线

![6](02_08/6.png)

![7](02_08/7.png)

所以当 ![8](02_08/8.png) 即 ![9](02_08/9.png) 时, 等式成立

所以法线的transform如下

![10](02_08/10.png)

transform 的位置变换

![11](02_08/11.png)

![12](02_08/12.png)

## 四元数

四元数的定义

![14](02_08/14.png)

四元数的乘法 四元数相乘之后, 还是得到一个四元数

![15](02_08/15.png)

![16](02_08/16.png)

推导过程

![13](02_08/13.jpg)

而四元数 可以用来表示一个 θ 角的旋转, 其过程主要是 通过计算 ![17](02_08/17.png) 我们可以得到和 ![18](02_08/18.png) 类似的结构式

推导过程

![20](02_08/20.jpg)

![21](02_08/21.jpg)

四元数的矩阵表示则是将上述的推倒过程, 转换为 ![19](02_08/19.png) 的格式, 用于计算机运算

推导过程

![22](02_08/22.jpg)

因此，在代码中的公式为

![23](02_08/23.png)



